{"version":3,"mappings":"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","names":["PieChart","React","__vitePreload","LineChart","BarChart","Dashboard","catData","setCatData","useState","monthlyData","setMonthlyData","categories","setCategories","useEffect","fetch","catRes","monthsRes","categoriesRes","api","pie","useMemo","line","stats","totalIncome","_a","sum","val","totalExpense","_b","totalBudget","cat","jsxs","jsx"],"sources":["../../src/pages/Dashboard.jsx"],"sourcesContent":["import React, { useEffect, useState, useMemo } from 'react';\nimport api from '../services/api';\nconst PieChart = React.lazy(() => import('../components/charts/PieChart'));\nconst LineChart = React.lazy(() => import('../components/charts/LineChart'));\nconst BarChart = React.lazy(() => import('../components/charts/BarChart'));\n\nexport default function Dashboard() {\n  const [catData, setCatData] = useState(null);\n  const [monthlyData, setMonthlyData] = useState(null);\n  const [categories, setCategories] = useState([]);\n\n  useEffect(() => {\n    async function fetch() {\n      const [catRes, monthsRes, categoriesRes] = await Promise.all([\n        api.get('/analytics/category'),\n        api.get('/analytics/monthly'),\n        api.get('/categories')\n      ]);\n      setCatData(catRes.data);\n      setMonthlyData(monthsRes.data);\n      setCategories(categoriesRes.data);\n    }\n    fetch().catch(console.error);\n  }, []);\n\n  const pie = useMemo(() => catData, [catData]);\n  const line = useMemo(() => monthlyData, [monthlyData]);\n\n  // Calculate summary stats\n  const stats = useMemo(() => {\n    if (!monthlyData) return { income: 0, expense: 0, balance: 0, budget: 0 };\n    const totalIncome = monthlyData.incomes?.reduce((sum, val) => sum + val, 0) || 0;\n    const totalExpense = monthlyData.expenses?.reduce((sum, val) => sum + val, 0) || 0;\n    const totalBudget = categories.reduce((sum, cat) => sum + (cat.amount || 0), 0);\n    return {\n      income: totalIncome,\n      expense: totalExpense,\n      balance: totalIncome - totalExpense,\n      budget: totalBudget\n    };\n  }, [monthlyData, categories]);\n\n  return (\n    <div className=\"container\">\n      <div className=\"dashboard\">\n        <h1>Financial Dashboard</h1>\n\n        {/* Stats Cards */}\n        <div className=\"stats-grid\">\n          <div className=\"stat-card income\">\n            <div className=\"stat-value\">${stats.income.toLocaleString()}</div>\n            <div className=\"stat-label\">Total Income</div>\n          </div>\n          <div className=\"stat-card budget\" style={{ background: 'linear-gradient(135deg, #28a745 0%, #20c997 100%)' }}>\n            <div className=\"stat-value\">${stats.budget.toLocaleString()}</div>\n            <div className=\"stat-label\">Total Budget</div>\n          </div>\n          <div className=\"stat-card expense\">\n            <div className=\"stat-value\">${stats.expense.toLocaleString()}</div>\n            <div className=\"stat-label\">Total Expenses</div>\n            {stats.budget > 0 && (\n              <div style={{ fontSize: '12px', marginTop: '5px', opacity: 0.9 }}>\n                {((stats.expense / stats.budget) * 100).toFixed(1)}% of budget\n              </div>\n            )}\n          </div>\n          <div className=\"stat-card balance\">\n            <div className=\"stat-value\">${stats.balance.toLocaleString()}</div>\n            <div className=\"stat-label\">Net Balance</div>\n          </div>\n        </div>\n\n        {/* Charts */}\n        <React.Suspense fallback={<div className=\"loading\"><div className=\"spinner\"></div></div>}>\n          <div style={{display:'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(300px, 1fr))', gap: '20px', marginTop: '30px'}}>\n            <div style={{background: 'white', padding: '20px', borderRadius: '15px', boxShadow: '0 5px 15px rgba(0,0,0,0.1)'}}>\n              {pie && <PieChart labels={pie.labels} values={pie.values} />}\n            </div>\n            <div style={{background: 'white', padding: '20px', borderRadius: '15px', boxShadow: '0 5px 15px rgba(0,0,0,0.1)'}}>\n              {line && <LineChart labels={line.labels} incomes={line.incomes} expenses={line.expenses} />}\n            </div>\n            <div style={{background: 'white', padding: '20px', borderRadius: '15px', boxShadow: '0 5px 15px rgba(0,0,0,0.1)'}}>\n              {line && <BarChart labels={line.labels} incomes={line.incomes} expenses={line.expenses} />}\n            </div>\n          </div>\n        </React.Suspense>\n      </div>\n    </div>\n  );\n}\n"],"file":"assets/Dashboard-6e2164be.js"}
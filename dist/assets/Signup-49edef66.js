import{r as o,A as x,u as g,j as e,L as j}from"./index-a8e5d44c.js";function v(){const[r,d]=o.useState({name:"",email:"",password:"",confirmPassword:"",role:"USER"}),[l,s]=o.useState(null),{signup:u,isLoading:t}=o.useContext(x),m=g(),a=n=>{d({...r,[n.target.name]:n.target.value})},p=async n=>{var i,c;if(n.preventDefault(),s(null),r.password!==r.confirmPassword){s("Passwords do not match");return}if(r.password.length<6){s("Password must be at least 6 characters long");return}try{await u({name:r.name,email:r.email,password:r.password,role:r.role}),m("/login",{state:{message:"Account created successfully! Please login with your credentials."}})}catch(h){s(((c=(i=h.response)==null?void 0:i.data)==null?void 0:c.error)||"Signup failed. Please try again.")}};return e.jsx("div",{className:"login-container",children:e.jsxs("div",{className:"login-card",children:[e.jsx("h2",{children:"Create Account"}),e.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"Join Personal Finance Tracker"}),l&&e.jsx("div",{className:"error-message",children:l}),e.jsxs("form",{onSubmit:p,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Full Name"}),e.jsx("input",{className:"form-input",type:"text",name:"name",value:r.name,onChange:a,placeholder:"Enter your full name",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email Address"}),e.jsx("input",{className:"form-input",type:"email",name:"email",value:r.email,onChange:a,placeholder:"Enter your email",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Account Type"}),e.jsxs("select",{className:"form-input",name:"role",value:r.role,onChange:a,required:!0,children:[e.jsx("option",{value:"USER",children:"Regular User"}),e.jsx("option",{value:"READ_ONLY",children:"Read Only User"}),e.jsx("option",{value:"ADMIN",children:"Administrator"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password"}),e.jsx("input",{className:"form-input",type:"password",name:"password",value:r.password,onChange:a,placeholder:"Enter your password",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Confirm Password"}),e.jsx("input",{className:"form-input",type:"password",name:"confirmPassword",value:r.confirmPassword,onChange:a,placeholder:"Confirm your password",required:!0})]}),e.jsx("button",{className:"btn-primary",type:"submit",disabled:t,children:t?"Creating Account...":"Create Account"})]}),e.jsx("div",{style:{marginTop:"20px",textAlign:"center",paddingTop:"20px",borderTop:"1px solid #eee"},children:e.jsxs("p",{style:{color:"#666"},children:["Already have an account?"," ",e.jsx(j,{to:"/login",style:{color:"#667eea",textDecoration:"none",fontWeight:"500"},children:"Sign In"})]})})]})})}export{v as default};
//# sourceMappingURL=Signup-49edef66.js.map
